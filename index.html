<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SURROGAT</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { margin:0; background:#000; color:#fff; font-family:sans-serif; padding:20px; text-align:center; }
        h1 { font-size:36px; margin:20px 0 10px; }
        p { opacity:0.8; font-size:18px; }
        .btn { 
            background:linear-gradient(90deg,#00ff41,#b026ff); 
            color:#000; font-weight:900; font-size:20px; 
            padding:20px; border-radius:20px; border:none; 
            width:90%; margin:20px auto; display:block;
            box-shadow:0 10px 30px rgba(0,255,65,0.4);
        }
        .top { margin:30px 0; }
        .stream { background:#111; padding:15px; margin:10px; border-radius:15px; }
    </style>
</head>
<body>
    <h1>SURROGAT</h1>
    <p>Живые POV-стримы от первого лица<br>15⭐ = 15 минут эксклюзива</p>

    <div class="top">
        <h2>Топ сейчас</h2>
        <div class="stream">@moscow_live — Красная площадь — 1500 зрителей</div>
        <div class="stream">@iceland_volcano — Активный вулкан — 1200 зрителей</div>
        <div class="stream">@miami_storm — Ураган в прямом эфире — 1000 зрителей</div>
    </div>

    <button class="btn" onclick="payAndWatch()">Смотреть стрим — 15⭐ / 15 мин</button>
    <button class="btn" onclick="becomeCarrier()">Я носитель — начать стрим</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();

        function payAndWatch() {
            tg.openInvoice({
                title: 'Приватный POV-стрим 15 минут',
                description: 'Эксклюзивный доступ к трансляции от первого лица',
                payload: 'test_1',
                provider_token: '', // в тесте оставляем пустым
                currency: 'XTR',
                prices: [{ label: '15 минут стрима', amount: 15 }],
                need_name: false,
                need_phone_number: false,
                need_email: false,
                need_shipping_address: false,
                is_flexible: false
            }, (success) => {
                if (success) {
                    tg.showAlert('Оплата прошла! Стрим начинается...');
                    // Здесь будет открытие стрима
                }
            });
        }

        function becomeCarrier() {
            tg.showAlert('Камера + геолокация включены!\nТы в топе. Ждём первых зрителей ');
            // Здесь будет включение камеры и добавление в топ
        }
    </script>
</body>
</html>
